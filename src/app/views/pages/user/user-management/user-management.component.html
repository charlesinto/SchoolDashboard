<div class="row">
  <div class="col-md-12">
    <mat-progress-bar
      *ngIf="loadingFilterBox"
      mode="indeterminate"
    ></mat-progress-bar>
    <kt-portlet>
      <kt-portlet-header
        [title]="'Create User Access'"
        [class]="
          'kt-portlet__head--lg kt-portlet__head--noborder kt-portlet__head--break-sm'
        "
      >
        <ng-container ktPortletTools>
          <!-- <kt-context-menu></kt-context-menu> -->
        </ng-container>
      </kt-portlet-header>
      <kt-portlet-body [class]="'kt-portlet__body--fit'">
        <ng-container ktPortletTools>
          <div class="container">
            <form [formGroup]="userForm" (ngSubmit)="createUser()" class="pb-4">
              <div class="row">
                <div class="col-md-4">
                  <mat-form-field appearance="fill">
                    <mat-label>First Name</mat-label>
                    <input formControlName="firstname" matInput />
                  </mat-form-field>
                </div>
                <div class="col-md-4">
                  <mat-form-field appearance="fill">
                    <mat-label>Last Name</mat-label>
                    <input matInput formControlName="lastname" />
                  </mat-form-field>
                </div>
                <div class="col-md-4">
                  <mat-form-field appearance="fill">
                    <mat-label>Email Address</mat-label>
                    <input matInput formControlName="email" />
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <mat-form-field appearance="fill">
                    <mat-label>Phone Number</mat-label>
                    <input
                      matInput
                      type="number"
                      formControlName="phonenumber"
                    />
                  </mat-form-field>
                </div>
                <div class="col-md-4">
                  <mat-form-field appearance="fill">
                    <mat-label>Password</mat-label>
                    <input
                      matInput
                      type="password"
                      formControlName="password"
                    />
                  </mat-form-field>
                </div>
                <div class="col-md-4">
                  <mat-form-field appearance="fill">
                    <mat-label>Confirm Password</mat-label>
                    <input
                      matInput
                      type="password"
                      formControlName="confirm-password"
                    />
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <mat-form-field appearance="fill">
                    <mat-label>View Access</mat-label>
                    <mat-select
                      (ngModelChange)="onAccessLevelChange($event)"
                      formControlName="access_level"
                    >
                      <mat-option [disabled]="true" value="SUPER ADMIN"
                        >SUPER ADMIN</mat-option
                      >
                      <mat-option value="FEDERAL">FEDERAL</mat-option>
                      <mat-option value="STATE">STATE</mat-option>
                      <mat-option value="SCHOOL">SCHOOL</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field appearance="fill">
                    <mat-label>Role</mat-label>
                    <mat-select formControlName="role">
                      <mat-option value="AGENT">AGENT</mat-option>
                      <mat-option value="ADMIN">ADMIN</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <mat-form-field
                    *ngIf="userForm.value.access_level !== 'FEDERAL'"
                    appearance="fill"
                  >
                    <mat-label>State</mat-label>
                    <mat-select formControlName="states">
                      <mat-option
                        *ngFor="let item of states"
                        value="{{ item.name }}"
                        >{{ item.name }}</mat-option
                      >
                      <!-- <mat-option value="FEDERAL">ADMIN</mat-option> -->
                    </mat-select>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field appearance="fill">
                    <mat-label>School</mat-label>
                    <mat-select formControlName="schools">
                      <mat-option
                        *ngFor="let item of schools"
                        value="{{ item.id }}"
                        >{{ item.schoolName }}</mat-option
                      >
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-md-10"></div>
                <div class="col-md-2">
                  <button
                    (click)="createUser()"
                    [ngClass]="{
                      'kt-spinner kt-spinner--right kt-spinner--md kt-spinner--light':
                        loading
                    }"
                    id="kt_login_signin_submit"
                    class="btn btn-primary btn-elevate kt-login__btn-primary"
                  >
                    Save
                  </button>
                </div>
              </div>
            </form>
          </div>
        </ng-container>
      </kt-portlet-body>
    </kt-portlet>
  </div>
</div>
<div class="py-2"></div>
<div class="row">
  <div class="col-md-12">
    <kt-portlet>
      <kt-portlet-header
        [title]="'Bulk User Access'"
        [class]="
          'kt-portlet__head--lg kt-portlet__head--noborder kt-portlet__head--break-sm'
        "
      >
        <ng-container ktPortletTools>
          <!-- <kt-context-menu></kt-context-menu> -->
        </ng-container>
      </kt-portlet-header>
      <kt-portlet-body [class]="'kt-portlet__body--fit'">
        <ng-container ktPortletTools>
          <div class="container">
            <form
              [formGroup]="bulkUserForm"
              (ngSubmit)="createBulkUser()"
              class="pb-4"
            >
              <div class="row">
                <div class="col-md-6">
                  <mat-form-field appearance="fill">
                    <mat-label>No of Users</mat-label>
                    <input
                      type="number"
                      formControlName="numberOfUsers"
                      matInput
                    />
                  </mat-form-field>
                </div>

                <div class="col-md-6">
                  <mat-form-field appearance="fill">
                    <mat-label>View Access</mat-label>
                    <mat-select
                      (ngModelChange)="onAccessLevelChange($event)"
                      formControlName="viewAccess"
                    >
                      <mat-option [disabled]="true" value="SUPER ADMIN"
                        >SUPER ADMIN</mat-option
                      >
                      <mat-option value="FEDERAL">FEDERAL</mat-option>
                      <mat-option value="STATE">STATE</mat-option>
                      <mat-option value="SCHOOL">SCHOOL</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <mat-form-field appearance="fill">
                    <mat-label>Role</mat-label>
                    <mat-select formControlName="role">
                      <mat-option value="AGENT">AGENT</mat-option>
                      <mat-option value="ADMIN">ADMIN</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field appearance="fill">
                    <mat-label>State</mat-label>
                    <mat-select formControlName="state">
                      <mat-option
                        *ngFor="let item of states"
                        value="{{ item.name }}"
                        >{{ item.name }}</mat-option
                      >
                      <!-- <mat-option value="FEDERAL">ADMIN</mat-option> -->
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-md-10"></div>
                <div class="col-md-2">
                  <button
                    type="submit"
                    [ngClass]="{
                      'kt-spinner kt-spinner--right kt-spinner--md kt-spinner--light':
                        bulkUserLoading
                    }"
                    id="kt_login_signin_submit"
                    class="btn btn-primary btn-elevate kt-login__btn-primary"
                  >
                    Save
                  </button>
                </div>
              </div>
            </form>
          </div>
        </ng-container>
      </kt-portlet-body>
    </kt-portlet>
  </div>
</div>
