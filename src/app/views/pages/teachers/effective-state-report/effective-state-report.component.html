<div class="container">
  <div class="row mb-2">
    <div class="col-xl-12">
      <mat-progress-bar *ngIf="loading" mode="indeterminate"></mat-progress-bar>
      <kt-portlet>
        <kt-portlet-header
          [title]="'Filter Report'"
          [class]="
            'kt-portlet__head--lg kt-portlet__head--noborder kt-portlet__head--break-sm'
          "
        >
          <ng-container ktPortletTools>
            <!-- <kt-context-menu></kt-context-menu> -->
          </ng-container>
        </kt-portlet-header>
        <kt-portlet-body [class]="'kt-portlet__body--fit'">
          <ng-container ktPortletTools>
            <div class="container">
              <form (ngSubmit)="filterReort()" class="pb-4">
                <div class="row">
                  <div class="col-md-4">
                    <mat-form-field>
                      <mat-select
                        placeholder="State"
                        [formControl]="statesSelected"
                        (selectionChange)="onStateSelectionChange($event)"
                        multiple
                      >
                        <mat-select-trigger>
                          {{
                            statesSelected.value ? statesSelected.value[0] : ""
                          }}
                          <span
                            *ngIf="statesSelected.value?.length > 1"
                            class="example-additional-selection"
                          >
                            (+{{ statesSelected.value.length - 1 }} others)
                          </span>
                        </mat-select-trigger>

                        <!-- <mat-option [value]="'All'">All</mat-option> -->
                        <mat-option
                          *ngFor="let topping of states"
                          [value]="topping.name"
                          >{{ topping.name }}</mat-option
                        >
                      </mat-select>
                    </mat-form-field>
                  </div>
                  <div class="col-md-4">
                    <mat-form-field>
                      <mat-select
                        placeholder="Local Government Area"
                        [formControl]="lgaSelected"
                        (selectionChange)="onlgaSelectionChange($event)"
                        multiple
                      >
                        <mat-select-trigger>
                          {{ lgaSelected.value ? lgaSelected.value[0] : "" }}
                          <span
                            *ngIf="lgaSelected.value?.length > 1"
                            class="example-additional-selection"
                          >
                            (+{{ lgaSelected.value.length - 1 }} others)
                          </span>
                        </mat-select-trigger>
                        <!-- <mat-option [value]="'All'">All</mat-option> -->
                        <mat-option
                          *ngFor="let topping of localgovernments"
                          [value]="topping.name"
                          >{{ topping.name }}</mat-option
                        >
                      </mat-select>
                    </mat-form-field>
                  </div>

                  <div class="col-md-4">
                    <mat-form-field>
                      <mat-select
                        placeholder="School"
                        [formControl]="schoolSelected"
                        multiple
                      >
                        <mat-select-trigger>
                          {{
                            schoolSelected.value ? schoolSelected.value[0] : ""
                          }}
                          <span
                            *ngIf="schoolSelected.value?.length > 1"
                            class="example-additional-selection"
                          >
                            (+{{ schoolSelected.value.length - 1 }} others)
                          </span>
                        </mat-select-trigger>
                        <!-- <mat-option [value]="'All'">All</mat-option> -->
                        <mat-option
                          *ngFor="let topping of schools"
                          [value]="topping.schoolName"
                          >{{ topping.schoolName }}</mat-option
                        >
                      </mat-select>
                    </mat-form-field>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-4">
                    <mat-form-field appearance="fill">
                      <mat-label>Choose a date</mat-label>
                      <input
                        [formControl]="dateRange"
                        matInput
                        type="text"
                        name="daterange"
                        value=""
                      />
                    </mat-form-field>
                  </div>

                  <div class="px-3">
                    <button
                      mat-raised-button
                      color="primary"
                      aria-label="Example icon button with a home icon"
                    >
                      <mat-icon>filter_list</mat-icon>
                      Filter
                    </button>
                  </div>

                  <div class="px-3">
                    <button
                      mat-raised-button
                      aria-label="Example icon button with a home icon"
                      (click)="resetForm($event)"
                    >
                      Reset
                    </button>
                  </div>
                </div>
                <div class="row"></div>
              </form>
            </div>
          </ng-container>
        </kt-portlet-body>
      </kt-portlet>
    </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      <mat-progress-bar *ngIf="loading" mode="indeterminate"></mat-progress-bar>
      <kt-portlet>
        <kt-portlet-header
          [title]="''"
          [class]="
            'kt-portlet__head--lg kt-portlet__head--noborder kt-portlet__head--break-sm'
          "
        >
          <ng-container ktPortletTools>
            <kt-context-menu></kt-context-menu>
          </ng-container>
        </kt-portlet-header>
        <kt-portlet-body [class]="'kt-portlet__body--fit'">
          <ng-container ktPortletTools>
            <div class="row">
              <div class="col-md-12">
                <canvas height="300px" #chart></canvas>
              </div>
            </div>
          </ng-container>
        </kt-portlet-body>
      </kt-portlet>
    </div>
  </div>
</div>
